# Publisphere Environment Variables
# Copy this file to .env for local development

# ===================================
# VITE (Frontend) - Required
# ===================================
# Get these from your Supabase project settings
VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_PUBLISHABLE_KEY=your_supabase_anon_key
VITE_SUPABASE_PROJECT_ID=your_project_id

# ===================================
# SUPABASE EDGE FUNCTIONS - Required
# ===================================
# Set these in Supabase Edge Function secrets:
# supabase secrets set ENCRYPTION_SECRET=<value>

# Encryption key (64 hex characters = 32 bytes for AES-256)
# Generate with: deno run supabase/functions/_shared/generate-key.ts
ENCRYPTION_SECRET=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Supabase service role key (for edge functions)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Supabase URL (for edge functions)
SUPABASE_URL=https://your-project.supabase.co

# App URL (for redirects and webhooks)
# NOTE: Use same port as VITE_APP_URL for local dev
APP_URL=http://localhost:5173

# ===================================
# STRIPE - Required for Billing
# ===================================
# Get from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...  # Secret key for server-side API calls
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_...  # Publishable key for frontend

# Webhook secret (get from Stripe Dashboard after creating webhook endpoint)
# Webhook URL: https://your-project.supabase.co/functions/v1/stripe-webhooks
STRIPE_WEBHOOK_SECRET=whsec_...

# ===================================
# EMAIL (Optional - for notifications)
# ===================================
# Option 1: Resend (recommended)
RESEND_API_KEY=re_...

# Option 2: SMTP
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your_sendgrid_api_key
FROM_EMAIL=noreply@publisphere.com

# ===================================
# CRON JOBS (Optional)
# ===================================
# Secret for securing cron job endpoints
CRON_SECRET=your_random_secret_string_here

# ===================================
# VOICE AGENTS (Required for AI Voice Agents Feature)
# ===================================
# OpenAI API key for generating knowledge base embeddings
# Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Note: Agencies provide their own Twilio and ElevenLabs credentials
# through the UI. These are encrypted and stored in the database.

# ===================================
# APP CONFIG
# ===================================
VITE_APP_URL=http://localhost:5173
VITE_APP_NAME=Publisphere

# ===================================
# SETUP INSTRUCTIONS
# ===================================
# 1. Copy this file: cp .env.example .env
# 2. Create a Supabase project at https://supabase.com
# 3. Fill in your VITE_SUPABASE_* values from project settings
# 4. Generate encryption key: deno run supabase/functions/_shared/generate-key.ts
# 5. Set edge function secrets:
#    supabase secrets set ENCRYPTION_SECRET=<generated_key>
#    supabase secrets set SUPABASE_SERVICE_ROLE_KEY=<service_role_key>
#    supabase secrets set SUPABASE_URL=<your_supabase_url>
# 6. Run migrations: supabase db push
# 7. Deploy functions: supabase functions deploy
